## kernel register convention
- x3/gp = global kernel page
- x4/tp = hart page
- x8/fp = current executor
- aX registers used for syscall args/res
- tX registers can be used, macros can garble
-- x3 = kernel satp
-- x4 = page allocator


## Kernel pages
# TODO: move mcs_lock state from hart to executor (remove hart page completely?)
### kernel hart page (x4/tp)
`0x000:0x008` = mcs_lock_next
`0x200:0x208` = mcs_lock_held

### global kernel page (x3/gp)
`0x000:0x008` = page_alloc_head
`0x200:0x208` = page_alloc_tail
`0x400:0x408` = sched_mcs_lock
`0x600:0x608` = sched_head
`0x608:0x610` = sched_tail
`0x700:0x708` = kernel_satp

### executor state page
`0x000:0x008` = pc | kernel hart-local
`0x008:0x010` = x1
`0x010:0x018` = x2
`0x018:0x020` = x3
`0x020:0x028` = x4
`0x028:0x030` = x5
`0x030:0x038` = x6
`0x038:0x040` = x7
`0x040:0x048` = x8
`0x048:0x050` = x9
`0x050:0x058` = x10
`0x058:0x060` = x11
`0x060:0x068` = x12
`0x068:0x070` = x13
`0x070:0x078` = x14
`0x078:0x080` = x15
`0x080:0x088` = x16
`0x088:0x090` = x17
`0x090:0x098` = x18
`0x098:0x0A0` = x19
`0x0A0:0x0A8` = x20
`0x0A8:0x0B0` = x21
`0x0B0:0x0B8` = x22
`0x0B8:0x0C0` = x23
`0x0C0:0x0C8` = x24
`0x0C8:0x0D0` = x25
`0x0D0:0x0D8` = x26
`0x0D8:0x0E0` = x27
`0x0E0:0x0E8` = x28
`0x0E8:0x0F0` = x29
`0x0F0:0x0F8` = x30
`0x0F8:0x100` = x31
`0x100:0x108` = ptr to next to schedule
`0x110:0x118` = satp?
`0x118:0x120` = ptr to vas?
`0x120:0x128` = current hart page
`0x200:0x208` = state (park) (running / terminated / waiting?)
`0x400:0x408` = refcount?
`0x800:0x808` = locked?
